#include <stdio.h>

#define MAX 100000

int estPremier(int x) {
    if (x < 2) return 0;
    for (int i = 2; i <= x / 2; i++) {
        if (x % i == 0)
            return 0;
    }
    return 1;
}

int main() {
    int n;

    // Demander un nombre positif <= MAX
    do {
        printf("Entrez un nombre positif (max %d) : ", MAX);
        scanf("%d", &n);
    } while (n < 1 || n > MAX);

    int nombres[MAX];
    int premiers[MAX];
    int k = 0;

 
    for (int i = 0; i < n; i++) {
        nombres[i] = i + 1;
    }

    printf("\n=== TABLEAU DES NOMBRES DE 1 A %d  ===\n\n", n);

    // Affichage des nombres en colonnes
    for (int i = 0; i < n; i++) {
        printf("%6d", nombres[i]);
        if ((i + 1) % 5 == 0)
            printf("\n");
    }

    // Remplissage du tableau des nombres premiers
    for (int i = 0; i < n; i++) {
        if (estPremier(nombres[i])) {
            premiers[k] = nombres[i];
            k++;
        }
    }

    printf("\n\n=== NOMBRES PREMIERS JUSQU'A %d (5 colonnes) ===\n\n", n);

    // Affichage des nombres premiers en colonnes
    for (int i = 0; i < k; i++) {
        printf("%6d", premiers[i]);
        if ((i + 1) % 5 == 0)
            printf("\n");
    }

    printf("\nTotal nombres premiers : %d\n", k);
    return 0;
}